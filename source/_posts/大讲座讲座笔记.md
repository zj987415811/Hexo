---
title: 大讲座笔记系列
date: 2018-11-05 21:28:38
tags: nacos
---
nacos的讲座

<!-- more -->

# 1. Spring Nacos #
1. 云计算 云原生
2. Open Source
3. LAMP->Java WEB ->Java WEB ->应用拆分，分布式服务
4. 源代码冲突，项目团队协同
5. 服务注册与管理，配置的注册与管理，服务元数据的管理
6. 支持生态springcloud cloudnative dubbo 公有云
7. 注册中心：zk 缺点:特性，service管理缺失，本质不是做服务发现的产品
8. 基于DNS的服务发现
9. 服务发现与服务管理（在微服务角度如何管理），配置中心（）

# 2. 贝壳找房中台讲座 #

1. 建设目标
	1. 进入业务纵深
	2. 全局抽象打通
	3. 支撑前台快跑
	4. 输出标准规范
2. 落地形态
	1. 数据中台
		1. 数据落地
		2. 模型建设
		3. 数仓绩效
		4. 业务可能性
	2. 通用组件中台
		1. 减少重复
		2. 邻域知识薄
		3. 技术挑战大
	3. 规则/流程标准化中台
		1. 规则标准化
		2. 流程标准化
		3. 纯函数
		4. 调度器
3. 出发点
	1. 从服务能力/服务组件出发
		1. 服务层重点；
		2. open API，邻域层之上；
	2. 从共性数据能力下沉出发
		1. 剥离共性数据/主数据
		2. 重数据落地，轻业务规则
	3. 从已有系统前后分离/组件化出发	
		1. 服务化拆分+模型升级
		2. 对既有业务的大力改造
4. 业务蓝本
	1. 核心业务---找到抓手
	2. 久经考验---稳定性
	3. 模型完善---宏观思考
5. 面临挑战
	1. 技术+业务
		1. 系统服务化不够，改造难度大；
		2. 底层性能优化欠缺；
		3. 百亿/月交易额；
		4. 逻辑复杂，领域层缺乏涉及。
		5. 业务在跑，新需求不断。
6. 演进路线
	1. 找到业务蓝本
	2. 数据中心下沉：启动数据共享中台建设
	3. 领域层重建
	4. 领域层裂变: 启动规则标准化中台建设，丰富能力组件化。
7. 数据中心
	1. 拆分粒度考量
		1. 邻域边界
		2. 基础设施
		3. 团队人员
	2. 框架代码
		1. 事务能力
		2. 缓冲集成
		3. 邻域约束

# 3. 微服务落地 #

1. 配置中心
- 一致性K-V存储中心
- 统一配置实时推送
- 配置灰度更新与回滚
- 配置全局恢复，备份与历史
- 高可用集群
	1. Open API 
	2. 业务无关性
	3. 配置生效监控
2. 服务监控
3. 统一服务管控平台
	1. 多注册中心接入
	2. 开源服务框架接入服务管理
	3. 注册中心权限管理系统
	4. web界面话管理服务
	5. 标准化接入流程
	6. 智能监控
	7. 大规模注册中心集群和容灾策略
4. 分布式服务框架
	1. 雪崩===网络隔离（3-5w），ip隔离，选强烈的机器作为主节点，打散。
	2. 架构设计：状态 
5. 微服务实践
	1. 关于粒度
		1. 每个服务方法代表一个功能，而不是某个功能的一个不走；
		2. 不适用过于抽象的通用接口。如map;
	2. 版本号
		1. 定义版本号
		2. 不兼容时灰度发布
		3. 枚举 
		4. API设计
# 4. 微服务事务一致性解决方案 #
1. 问题
	1. 微服务事务一致性问题
	2. 业界分布式事务的解决方案
	3. ServiceComb分布式事务解决方案的演进
2. 微服务架构
	1. 微服务架构将一个应用分成多个相互独立的服务；
	2. 好处是各个服务能够持续独立的开发和部署；
	3. 难题是服务的数据需要采用什么样的方式来进行存储？
3. 2阶段提交
	1. 准备阶段，完成资源操作；
	2. 优点or缺点：
		1. 提供强一致性保障；
		2. 准备阶段完成资源操作；
		3. 如果准备过程出现问题可以回滚；
		4. 资源层面提供保障，业务入侵性低；
		5. 协议成本高，并且存在全局锁的问题。
4. ACID与BASE
	1. ACID(刚性事务)
	2. BAES(柔性事务)
5. TCC(Try Confirm Cancel)
	1. Try:尝试执行业务；
		1. 完成所有业务检查
		2. 预留必须的业务资源
	2. Confirm:确认执行业务
		1. 真正执行业务
		2. 不做业务检查
	3. Cancel:取消执行业务
		1. 释放Try阶段预留的业务资源 
6. 通过领域建模来解决
	1. 限界上下文
7. 微服务事务一致性建议
	1. 内刚：聚合通过数据库事务保障强一致。
	2. 外柔：最终一致
8. saga